@using WebStore.Domain.ViewModels.BreadCrumbs
@model IEnumerable<BreadCrumbViewModel>

<div class="breadcrumbs">
    <ol class="breadcrumb">
        <li><a asp-controller="Home" asp-action="Index">Home</a></li>
        <li @(Model.Count() <= 0 ? "class=active" : null)><a asp-controller="Catalog" asp-action="Shop">Каталог</a></li>

        @{
            var last = Model.Last();
            foreach (var item in Model)
            {
                <li @(item == last ? "class=active" : null)>
                    @switch (item.BreadCrumbType)
                    {
                        default: throw new ArgumentOutOfRangeException();
                        case BreadCrumbType.None: break;

                        case BreadCrumbType.Section:
                            <a asp-controller="Catalog" asp-action="Shop" asp-route-SectionId="@item.Id">@item.Name</a>
                            break;
                        case BreadCrumbType.Brand:
                            <a asp-controller="Catalog" asp-action="Shop" asp-route-BrandId="@item.Id">@item.Name</a>
                            break;
                        case BreadCrumbType.Product:
                            @item.Name
                            break;
                    }
                </li>
            }
        }
    </ol>
</div>
